<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Openweathermap - sample app</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/sticky-footer.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Begin page content -->
    <div class="container" ng-app="weatherApp">
      
      <div class="page-header">
        <h1>Weather Forecast</h1>
      </div>

      <div ng-controller="weatherController as weatherData" >
          <table class="table table-striped table-hover"> 
            <thead> 
              <tr>
                <td><strong>World Cities</strong> click on city to see details</td>
              </tr>
            </thead>

            <tr ng-repeat="city in weatherData.cityList" ng-click="weatherData.getData(city)">
              <td>{{city.cityName}} </td>
            </tr>  

          </table>    

          <!-- show windspeed and average temp for selected city-->
            <hr/>
            <h3>Weather data for <strong> {{weatherData.cityName }}</strong> </h3>
            <table class="table table-striped table-hover"> 
              <thead> 
                <tr>
                  <td><strong>Wind Speed</strong></td>
                  <td><strong>Average Temperature</strong></td>
                </tr>
              </thead>
              
              <tr ng-click="weatherData.getForecastData(weatherData.currentCityId)">
                <td class="success"> {{weatherData.windSpeed}} </td>
                <td class="success"> {{weatherData.avgTemp | number : 2}} </td>  
              </tr>
            </table> 
            <p> Click the row above to see 24hr forecast</p>
            <hr/>
            <h3> Forecast for next 24 hours </h3>
            <table class="table table-striped table-hover"> 
              <thead> 
                <tr>
                  <td><strong>Time of day</strong></td>
                  <td><strong>Temperature</strong></td>
                </tr>
              </thead>

              <tr ng-repeat="forecast in weatherData.foreCast">
                <td>{{forecast.evtTime}} </td>
                <td>{{forecast.evtTemp}} </td>
              </tr>  
            </table> 
      </div>  

    </div>

    <footer class="footer">
      <div class="container">
        <p class="text-muted">My Big Weather company .</p>
      </div>
    </footer>

    <script src="lib/angular.1.5.8.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/services.js"></script>

    
  </body>
</html>
